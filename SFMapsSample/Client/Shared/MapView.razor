
<div>
    <p>Map View:</p>
    <SfMaps Height="200px">
        <MapsAreaSettings Background="var(--main-background)">
            <MapsBorder Color="var(--keyword-border)" Width="0"></MapsBorder>
            <MapsMargin Bottom="0" Left="0" Right="0" Top="0"></MapsMargin>
        </MapsAreaSettings>
        <MapsCenterPosition Latitude="@Latitude" Longitude="@Longitude" />
        <MapsZoomSettings Enable="false" ZoomFactor="13" />
        <MapsLayers>
            <MapsLayer UrlTemplate="https://a.tile.openstreetmap.org/level/tileX/tileY.png" TValue="string">
                <MapsMarkerSettings>
                    <MapsMarker Visible="true" Height="20" Width="20" Fill="red" DataSource="@Markers" AnimationDuration="0" TValue="MarkerData" />
                </MapsMarkerSettings>
            </MapsLayer>
        </MapsLayers>
    </SfMaps>
</div>

@code {
    private double Latitude { get; set; }
    private double Longitude { get; set; }

    public class MarkerData
    {
        public string Name { get; init; }
        public double Latitude { get; set; }
        public double Longitude { get; set; }
    }

    public List<MarkerData> Markers = new();

    private void SetMapToImage()
    {
        Markers.Clear();
        
        Latitude = 51.186516;
        Longitude = -0.612727;

        Markers.Add(new MarkerData { Name = "IMAGE.JPG", Latitude = Latitude, Longitude = Longitude });
    }

    protected override void OnAfterRender(bool firstRender)
    {
        if( firstRender )
        {
            SetMapToImage();
        }
    }
} 